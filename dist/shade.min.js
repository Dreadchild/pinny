/*! pinny 1.0.0 2014-09-04 */
(function(t){"function"==typeof define&&define.amd?define(["$","velocity"],t):t(window.Zepto||window.jQuery)})(function(t,i){function o(t,i){this._init(t,i)}var n="shade",s=function(){};return o.DEFAULTS={cover:document.body,color:"black",opacity:"0.25",duration:150,easing:"swing",padding:0,click:function(){this.close()},open:s,opened:s,close:s,closed:s,zIndex:1},o.prototype._init=function(i,n){var s=this;this.options=t.extend(!0,{},o.DEFAULTS,n),this.$element=t(i),this.isBody=t(this.options.cover).is("body"),this.$shade=t("<div />").addClass("shade").css({background:this.options.color?this.options.color:"",opacity:0}).hide().on("click",function(){s.options.click.call(s)}).insertAfter(this.$element),t(window).on("resize:shade",function(){s.$shade.hasClass("shade--is-open")&&s.setPosition.call(s)})},o.prototype.open=function(){this._trigger("open"),this.setPosition(),i.animate(this.$shade,{opacity:this.options.opacity},{display:"block",duration:this.options.duration,easing:this.options.easing}),this.$shade.addClass("shade--is-open").on("touchmove",function(){return!1}),this._trigger("opened")},o.prototype.close=function(){this._trigger("close"),i.animate(this.$shade,"reverse",{display:"none",duration:this.options.duration,easing:this.options.easing}),this.$shade.removeClass("shade--is-open").off("touchmove"),this._trigger("closed")},o.prototype.setPosition=function(){var t=this.$element,i=this.isBody?"auto":t.outerWidth(!1),o=this.isBody?"auto":t.outerHeight(!1),n=this.isBody?"fixed":"absolute";this.$shade.css({left:this.options.padding?-this.options.padding:0,top:this.options.padding?-this.options.padding:0,bottom:this.options.padding?-this.options.padding:0,right:this.options.padding?-this.options.padding:0,width:this.options.padding?i-this.options.padding:i,height:this.options.padding?o-this.options.padding:o,position:n,padding:this.options.padding,zIndex:this.options.zIndex||t.css("zIndex")+1})},o.prototype._trigger=function(i,o){i in this.options&&this.options[i].call(this,t.Event(n+":"+i,{bubbles:!1}),o)},t.fn.shade=function(i){var s=Array.prototype.slice.call(arguments);return this.each(function(){var e=t(this),p=e.data(n);p||e.data(n,p=new o(this,i)),"string"==typeof i&&0!==i.indexOf("_")&&p[i].apply(p,s.length>1?s.slice(1):null)})},t.fn.shade.Constructor=o,t});