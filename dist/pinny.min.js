/*! pinny 1.0.0 2014-07-28 */
(function(t){"function"==typeof define&&define.amd?define(["selectorEngine","velocity","zappy","shade"],t):t(window.Zepto||window.jQuery)})(function(t){function i(t,i){this._init(t,i)}var n="pinny",o=function(){},e="pinny--is-open";return i.VERSION="1.0.0",i.DEFAULTS={position:"modal-center",title:"Pinny",open:o,opened:o,close:o,closed:o,zIndex:2,coverage:"90%"},i.prototype._init=function(n,o){var e=this,s=t(document.body);this.options=t.extend(!0,{},i.DEFAULTS,o),require([this.options.position],function(t){e.position=t}),this.$pinny=t("<div />").appendTo(s).addClass("pinny").css({position:"absolute",zIndex:this.options.zIndex,width:this.options.coverage,height:this.options.coverage}),this.options.title&&(this.$title=t("<div />").addClass("pinny__title").text(this.options.title).prependTo(this.$pinny),t('<a href="#" />').html("&times").addClass("pinny__close").appendTo(this.$title).on("click",function(){e.close()})),this.$content=t("<div />").addClass("pinny__content").appendTo(this.$pinny),t(n).appendTo(this.$content).show(),this.$shade=s.shade({click:function(){e.close()}}),this._bindEvents()},i.prototype._trigger=function(i,o){i in this.options&&this.options[i].call(this,t.Event(n+":"+i,{bubbles:!1}),o)},i.prototype._bindEvents=function(){},i.prototype.toggle=function(){this[this.$pinny.hasClass(e)?"close":"open"]()},i.prototype.open=function(){this._trigger("open"),this.$shade.shade("open"),this._open(),this._trigger("opened")},i.prototype.close=function(){this._trigger("close"),this.$shade.shade("close"),this.$pinny.hide().removeClass(e),this._trigger("closed")},i.prototype._open=function(){this.$pinny.show().addClass(e),this.position(this.$pinny),this.$content.height(this.$title?this.$pinny.height()-this.$title.height():this.$pinny.height())},t.fn.pinny=function(o){var e=Array.prototype.slice.call(arguments);return this.each(function(){var s=t(this),p=s.data(n),h="string"==typeof o;if(!p){if(h)throw'cannot call methods on pinny prior to initialization; attempted to call method "'+o+'"';s.data(n,p=new i(this,o))}if(h){if("_"===o.charAt(0)||"function"!=typeof p[o])throw'no such method "'+o+'" for pinny';p[o].apply(p,e.length>1?e.slice(1):null)}})},t.fn.pinny.Constructor=i,t("[data-pinny]").pinny(),t});