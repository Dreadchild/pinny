/*! pinny 1.0.0 2014-08-21 */
(function(n){"function"==typeof define&&define.amd?define(["bouncefix","selectorEngine","velocity","shade"],n):n(window.Zepto||window.jQuery)})(function(n,t){function i(n,t){this._init(n,t)}var e="pinny",o=function(){},s="pinny--is-open";return i.VERSION="1.0.0",i.DEFAULTS={position:{open:o,close:o},header:"Pinny",open:o,opened:o,close:o,closed:o,zIndex:2,coverage:"90%",easing:"swing",duration:150},i.prototype._init=function(e,o){var s=this,p=t(document.body);this.options=t.extend(!0,{},i.DEFAULTS,o),this.$pinny=t("<div />").appendTo(p).addClass("pinny").css({position:"fixed",zIndex:this.options.zIndex,width:this.options.coverage,height:this.options.coverage}),this.options.header&&(this.$header=t("<div />").addClass("pinny__header").html(this.options.header).prependTo(this.$pinny),t("<button />").html("Close").addClass("pinny__close").appendTo(this.$header).on("click",function(n){n.preventDefault(),s.close()})),this.$content=t("<div />").addClass("pinny__content").appendTo(this.$pinny),t(e).appendTo(this.$content).removeClass("pinny__hidden"),n.add("pinny__content"),this.$shade=p.shade({click:function(){s.close()}}),this.$pinny.on("touchmove",function(n){t(n.target).parents().hasClass("pinny__content")||n.preventDefault()}),this.position=this.options.position,this._bindEvents()},i.prototype._trigger=function(n,i){n in this.options&&this.options[n].call(this,t.Event(e+":"+n,{bubbles:!1}),i)},i.prototype._bindEvents=function(){},i.prototype.toggle=function(){this[this.$pinny.hasClass(s)?"close":"open"]()},i.prototype.open=function(){this._trigger("open"),this.$shade.shade("open"),this._open(),this._trigger("opened")},i.prototype.close=function(){this._trigger("close"),this.$shade.shade("close"),this.$pinny.removeClass(s),this._trigger("closed"),this._close()},i.prototype._open=function(){this.position.open.call(this),this.$pinny.addClass(s)},i.prototype._close=function(){this.position.close.call(this)},i.prototype._blockScroll=function(n){n.preventDefault()},i.prototype._setContentHeight=function(){this.$content.height(this.$header?this.$pinny.height()-this.$header[0].scrollHeight:this.$pinny.height())},t.fn.pinny=function(n){var o=Array.prototype.slice.call(arguments);return this.each(function(){var s=t(this),p=s.data(e),h="string"==typeof n;if(!p){if(h)throw'cannot call methods on pinny prior to initialization; attempted to call method "'+n+'"';s.data(e,p=new i(this,n))}if(h){if("_"===n.charAt(0)||"function"!=typeof p[n])throw'no such method "'+n+'" for pinny';p[n].apply(p,o.length>1?o.slice(1):null)}})},t.fn.pinny.Constructor=i,t("[data-pinny]").pinny(),t});